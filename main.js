!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){var r=e.card,o=e.handleCardClick,i=e.userData,a=e.handleCardLike,u=e.handleCardDelete;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=r.name,this._link=r.link,this._likes=r.likes,this._counterLikes=r.likes.length,this._cardId=r._id,this._ownerName=r.owner.name,this._ownerId=r.owner._id,this._user=i._id,this._card=r,this._openPopup=o,this._handleCardLike=a,this._handleCardDelete=u,this._cardSelector=n}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"createCard",value:function(){this._template=this._getTemplate();var e=this._template.querySelector(".elements__item-image");return this._template.querySelector(".elements__item-description-title").textContent=this._name,e.alt="здесь должна быть картинка "+this._name,e.src=this._link,this._addEventListeners(e),this._likeListener(),this._deleteListener(),this._setLikedStatus(),this._template}},{key:"_likeListener",value:function(){var e=this;this._template.querySelector(".elements__item-description-like-button").addEventListener("click",(function(t){e._handleCardLike(t).then((function(n){t.target.classList.toggle("elements__item-description-like-button__active"),e._setLikes(n)})).catch((function(e){return console.error(e)}))}))}},{key:"_setLikes",value:function(e){this._likesCounter.textContent=e.likes.length}},{key:"_setLikedStatus",value:function(){var e=this;this._likesCounter=this._template.querySelector(".elements__item-description-like-counter"),this._likesCounter.textContent=this._counterLikes,this._likes.some((function(t){return t._id===e._user}))&&this._template.querySelector(".elements__item-description-like-button").classList.add("elements__item-description-like-button__active")}},{key:"_deleteListener",value:function(){var e=this;this._deleteButton=this._template.querySelector(".elements__item-description-delete-button"),this._ownerId!==this._user?this._deleteButton.classList.add("removed"):this._deleteButton.addEventListener("click",(function(t){e._handleCardDelete()}))}},{key:"delete",value:function(){this._template.remove()}},{key:"_addEventListeners",value:function(e){var t=this;e.addEventListener("click",(function(){t._openPopup(t._name,t._link)}))}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._form=n,this._inputList=Array.from(this._form.querySelectorAll(t.inputSelector)),this._submitButton=this._form.querySelector(t.submitButtonSelector)}var t,r;return t=e,(r=[{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){return e.preventDefault()})),this._setEventListeners()}},{key:"clearForm",value:function(){var e=this;this._form.reset(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"_setEventListeners",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e.toggleButtonState()}))}))}},{key:"toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.setAttribute("disabled","true")):(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.removeAttribute("disabled"))}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_showInputError",value:function(e,t){var n=e.parentNode.querySelector(".".concat(this._errorClass));e.classList.add(this._inputErrorClass),n.textContent=t,n.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){var t=e.parentNode.querySelector(".".concat(this._errorClass));e.classList.remove(this._inputErrorClass),t.textContent=""}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(e){var t=this;this.clear(),e.forEach((function(e){t._renderer(e)}))}},{key:"setItems",value:function(e){this._renderedItems=e}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){(e._popup.classList.contains("opened")&&t.target===e._popup.querySelector(".popup__container-close-button")||t.target===e._popup)&&e.close()}))}}])&&a(t.prototype,n),e}();function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._image=t._popup.querySelector(".popup__image"),t}return t=a,(n=[{key:"open",value:function(e,t){this._popup.querySelector(".popup__description").textContent=e,this._image.src=t,this._image.alt=e,l(h(a.prototype),"open",this).call(this)}}])&&s(t.prototype,n),a}(u);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._submitCallback=t,n._button=n._popup.querySelector(".popup__container-form-save-button"),n._textContainer=n._button.textContent,n._form=n._popup.querySelector(".popup__container-form"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=Array.from(this._popup.getElementsByTagName("input")),t={};return e.forEach((function(e){t[e.getAttribute("Name")]=e.value})),t}},{key:"setEventListeners",value:function(){var e=this;v(k(a.prototype),"setEventListeners",this).call(this),this._popup.querySelector(".popup__container-form-save-button").addEventListener("click",(function(){e._renderLoading(),e._submitCallback(e._getInputValues())}))}},{key:"close",value:function(){v(k(a.prototype),"close",this).call(this),this._form.reset()}},{key:"_renderLoading",value:function(){this._button.textContent="Сохранение..."}},{key:"resetSubmitButton",value:function(){this._button.textContent=this._textContainer}}])&&y(t.prototype,n),a}(u),S={formSelector:".popup__container-form",inputSelector:".popup__container-form-input",submitButtonSelector:".popup__container-form-save-button",inactiveButtonClass:"popup__container-form-save-button_disabled",inputErrorClass:"popup__container-form-input_error",errorClass:"error"},C=document.querySelector(".add-place").querySelector(".popup__container-form"),w=document.querySelector(".profile-popup").querySelector(".popup__container-form"),E=document.querySelector(".avatar").querySelector(".popup__container-form"),L=document.querySelector(".popup__container-form-input_text_username"),O=document.querySelector(".popup__container-form-input_text_profession"),T=document.querySelector(".profile__info-edit-button"),P=document.querySelector(".profile__avatar-container"),R={about:"",avatar:"",cohort:"cohort-27",name:"",_id:""};function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var q=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileName=document.querySelector(t),this._profileTitle=document.querySelector(n),this._profileAvatar=document.querySelector(r),this._editedProfileName=document.querySelector(".popup__container-form-input_text_username"),this._editedProfileTitle=document.querySelector(".popup__container-form-input_text_profession")}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(e){return e.name=this._profileName.textContent,e.about=this._profileTitle.textContent,e.avatar=this._profileAvatar.src,e}},{key:"getUserId",value:function(){return this._id}},{key:"setUserInfo",value:function(e){e.name&&e.about?(this._profileName.textContent=e.name,this._profileTitle.textContent=e.about):console.log("Ошибка загрузки профиля")}},{key:"setUserAvatar",value:function(e){e.avatar?this._profileAvatar.src=e.avatar:console.log("Ошибка загрузки аватара")}},{key:"setUserId",value:function(e,t){if(e)return this._id=t._id,e._id=this._id;console.log("Ошибка загрузки ID gользователя")}}])&&j(t.prototype,n),e}();function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var B=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._authorization=t.authorization,this._contentTip=t.contentTip}var t,n;return t=e,(n=[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getCards",value:function(){var e=this;return fetch("".concat(this._url,"cards"),{method:"GET",headers:{authorization:this._authorization,"Content-Type":this._contentTip}}).then(this._getResponseData).then((function(t){e.cardsRes=t}))}},{key:"getProfile",value:function(){var e=this;return fetch("".concat(this._url,"users/me"),{method:"GET",headers:{authorization:this._authorization,"Content-Type":this._contentTip}}).then(this._getResponseData).then((function(t){e.profileRes=t}))}},{key:"getUserId",value:function(e){return e?(this.idRes=e._id,this.idRes):this.idRes}},{key:"editProfileInfo",value:function(e){return fetch("".concat(this._url,"users/me"),{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":this._contentTip},body:JSON.stringify({name:e.name,about:e.about})}).then(this._getResponseData)}},{key:"editProfileAvatar",value:function(e){return fetch("".concat(this._url,"users/me/avatar"),{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":this._contentTip},body:JSON.stringify({avatar:e.avatar})}).then(this._getResponseData)}},{key:"addCard",value:function(e){return fetch("".concat(this._url,"cards"),{method:"POST",headers:{authorization:this._authorization,"Content-Type":this._contentTip},body:JSON.stringify({link:e.link,name:e.name})}).then(this._getResponseData)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"cards/").concat(e._id),{method:"DELETE",headers:{authorization:this._authorization,"Content-Type":this._contentTip}}).then(this._getResponseData)}},{key:"setLike",value:function(e){return fetch("".concat(this._url,"cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._authorization,"Content-Type":this._contentTip}}).then(this._getResponseData)}},{key:"deleteLike",value:function(e){var t=this;return fetch("".concat(this._url,"cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._authorization,"Content-Type":this._contentTip}}).then((function(e){return t._getResponseData(e)}))}}])&&I(t.prototype,n),e}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return(z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=N(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=N(r);if(o){var n=N(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function a(e){var t,n=e.popupSelector,r=e.formSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._form=t._popup.querySelector(".popup__container-form"),t.button=t._popup.querySelector(".popup__container-form-save-button"),t._formSubmit=r,t}return t=a,(n=[{key:"open",value:function(e){z(N(a.prototype),"open",this).call(this),this.button.textContent="Да",this._card=e}},{key:"setEventListeners",value:function(){var e=this;z(N(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(),e._renderLoading(),e._formSubmit(e._card)}))}},{key:"_renderLoading",value:function(){this.button.textContent="Удаление..."}}])&&D(t.prototype,n),a}(u);function F(e){var n;n=function(e){var n=new t({card:e,handleCardClick:function(e,t){Y.open(e,t)},userData:R,handleCardLike:function(t){return t.target.classList.contains("elements__item-description-like-button__active")?M.deleteLike(e._id).catch((function(e){return console.error(e)})):M.setLike(e._id).catch((function(e){return console.error(e)}))},handleCardDelete:function(){te.open(e),te.button.addEventListener("click",(function(){n.delete()}))}},"#card");return n}(e).createCard(),Q.addItem(n)}var H=new r(S,C);H.enableValidation();var J=new r(S,w);J.enableValidation();var G=new r(S,E);G.enableValidation();var M=new B({url:"https://mesto.nomoreparties.co/v1/cohort-27/",authorization:"3fe0c274-9eb1-4b1e-a5bb-2bea77a9fe15",contentTip:"application/json"}),K=new q(".profile__info-username",".profile__info-profession",".profile__avatar"),Q=new i({items:[],renderer:function(e){F(e)}},".elements"),W=M.getCards(),X=M.getProfile();Promise.all([W,X]).then((function(){K.setUserInfo(M.profileRes),K.setUserAvatar(M.profileRes),K.setUserId(R,M.profileRes),K.getUserInfo(R),M.cardsRes.reverse().forEach((function(e){F(e)}))})).catch((function(e){return console.log(e)}));var Y=new _(".image-popup");Y.setEventListeners();var Z=new g(".profile-popup",(function(e){M.editProfileInfo(e).then((function(){K.setUserInfo(e),Z.resetSubmitButton(),Z.close()})).catch((function(e){return console.error(e)}))}));Z.setEventListeners();var $=new g(".avatar",(function(e){M.editProfileAvatar(e).then((function(){K.setUserAvatar(e),$.close(),G.toggleButtonState(),$.resetSubmitButton()})).catch((function(e){return console.error(e)}))}));$.setEventListeners();var ee=new g(".add-place",(function(e){e.likes=[],e.likes.length=0,e.likes._id=K.getUserId(),e.owner={name:"",_id:""},e.owner.name=R.name,e.owner._id=K.getUserId(),M.addCard(e).then((function(t){e._id=t._id,F(e),ee.resetSubmitButton(),ee.close()})).catch((function(e){return console.error(e)}))}));ee.setEventListeners();var te=new V({popupSelector:".delete-popup",formSubmit:function(e){M.deleteCard(e).then((function(){te.close()})).catch((function(e){return console.error(e)}))}});te.setEventListeners(),T.addEventListener("click",(function(){J.clearForm();var e=K.getUserInfo(R);L.value=e.name,O.value=e.about,J.toggleButtonState(),Z.open()})),document.querySelector(".profile__add-button").addEventListener("click",(function(){H.clearForm(),H.toggleButtonState(),ee.open()})),P.addEventListener("click",(function(){G.clearForm(),G.toggleButtonState(),$.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TXFMLEVBQVNtQixZQUMxQk4sRUFBS2hNLE1BQVEsQ0FDWFYsS0FBTSxHQUNOUSxJQUFLLElBRVBrTSxFQUFLaE0sTUFBTVYsS0FBT2dJLEVBQVloSSxLQUM5QjBNLEVBQUtoTSxNQUFNRixJQUFNcUwsRUFBU21CLFlBQzFCL0IsRUFBSWdDLFFBQVFQLEdBQ1R4SyxNQUFLLFNBQUNvSCxHQUNMb0QsRUFBS2xNLElBQU04SSxFQUFJOUksSUFDZm9LLEVBQWM4QixHQUNkSyxHQUFjSCxvQkFDZEcsR0FBY3hHLFdBRWZoRSxPQUFNLFNBQUFDLEdBQUcsT0FBSUMsUUFBUUMsTUFBTUYsU0FHbEN1SyxHQUFjUCxvQkFFZCxJQUFNcEIsR0FBYyxJQUFJWixFQUFrQixDQUN4Q3ZFLGNKckphLGdCSXNKYndFLFdBQVksU0FBQ2hMLEdBQ1h3TCxFQUFJaUMsV0FBV3pOLEdBQ1p5QyxNQUFLLFdBQ0prSixHQUFZN0UsV0FFYmhFLE9BQU0sU0FBQUMsR0FBRyxPQUFJQyxRQUFRQyxNQUFNRixTQUdsQzRJLEdBQVlvQixvQkFFWjFFLEVBQVc5RixpQkFBaUIsU0FBUyxXQUNuQzJKLEVBQTBCd0IsWUFDMUIsSUFBTVQsRUFBT2IsRUFBU1MsWUFBWXRFLEdBQ2xDSixFQUFlUCxNQUFRcUYsRUFBSzFNLEtBQzVCNkgsRUFBaUJSLE1BQVFxRixFQUFLekUsTUFDOUIwRCxFQUEwQnBILG9CQUMxQmtJLEVBQWlCekIsVUFHRDlKLFNBQVNDLGNBQWMsd0JBQzdCYSxpQkFBaUIsU0FBUyxXQUNsQ3lKLEVBQXNCMEIsWUFDdEIxQixFQUFzQmxILG9CQUN4QndJLEdBQWMvQixVQUdoQmpELEVBQWdCL0YsaUJBQWlCLFNBQVMsV0FDeEM0SixFQUF5QnVCLFlBQ3pCdkIsRUFBeUJySCxvQkFDekJzSSxFQUFnQjdCLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9qcy9jb21wb25lbnRzL2NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvanMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2pzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9qcy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2pzL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvanMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2pzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9qcy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2pzL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2pzL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhcmR7XHJcbiAgY29uc3RydWN0b3IoeyBjYXJkLCBoYW5kbGVDYXJkQ2xpY2ssIHVzZXJEYXRhLCBoYW5kbGVDYXJkTGlrZSwgaGFuZGxlQ2FyZERlbGV0ZSB9LCBjYXJkU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX25hbWUgPSBjYXJkLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gY2FyZC5saW5rO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBjYXJkLmxpa2VzXHJcbiAgICB0aGlzLl9jb3VudGVyTGlrZXMgPSBjYXJkLmxpa2VzLmxlbmd0aDtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmQuX2lkO1xyXG4gICAgdGhpcy5fb3duZXJOYW1lID0gY2FyZC5vd25lci5uYW1lO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGNhcmQub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fdXNlciA9IHVzZXJEYXRhLl9pZDtcclxuICAgIHRoaXMuX2NhcmQgPSBjYXJkXHJcblxyXG4gICAgdGhpcy5fb3BlblBvcHVwID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UgPSBoYW5kbGVDYXJkTGlrZTtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVDYXJkRGVsZXRlO1xyXG5cclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICB9XHJcbiAgX2dldFRlbXBsYXRlKCl7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJykuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50XHJcbiAgfVxyXG4gIGNyZWF0ZUNhcmQoKXtcclxuICAgIHRoaXMuX3RlbXBsYXRlID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IHRoaXMuX3RlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faXRlbS1pbWFnZScpO1xyXG4gICAgdGhpcy5fdGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pdGVtLWRlc2NyaXB0aW9uLXRpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgaW1hZ2VFbGVtZW50LmFsdCA9ICfQt9C00LXRgdGMINC00L7Qu9C20L3QsCDQsdGL0YLRjCDQutCw0YDRgtC40L3QutCwICcgKyB0aGlzLl9uYW1lO1xyXG4gICAgaW1hZ2VFbGVtZW50LnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycyhpbWFnZUVsZW1lbnQpO1xyXG4gICAgdGhpcy5fbGlrZUxpc3RlbmVyKCk7XHJcbiAgICB0aGlzLl9kZWxldGVMaXN0ZW5lcigpO1xyXG4gICAgdGhpcy5fc2V0TGlrZWRTdGF0dXMoKTtcclxuICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZVxyXG4gIH1cclxuICBfbGlrZUxpc3RlbmVyKCl7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2l0ZW0tZGVzY3JpcHRpb24tbGlrZS1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZShldnQpXHJcbiAgICAgIC50aGVuKGNhcmQgPT4ge1xyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudHNfX2l0ZW0tZGVzY3JpcHRpb24tbGlrZS1idXR0b25fX2FjdGl2ZScpO1xyXG4gICAgICAgIHRoaXMuX3NldExpa2VzKGNhcmQpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcbiAgICB9KVxyXG4gIH1cclxuICBfc2V0TGlrZXMoY2FyZCl7XHJcbiAgICB0aGlzLl9saWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSBjYXJkLmxpa2VzLmxlbmd0aDtcclxuICB9XHJcbiAgX3NldExpa2VkU3RhdHVzKCkge1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyID0gdGhpcy5fdGVtcGxhdGUucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pdGVtLWRlc2NyaXB0aW9uLWxpa2UtY291bnRlcicpO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fY291bnRlckxpa2VzO1xyXG4gICAgY29uc3QgaXNMaWtlZCA9IHRoaXMuX2xpa2VzLnNvbWUobGlrZXMgPT4gbGlrZXMuX2lkID09PSB0aGlzLl91c2VyKTtcclxuICAgIGlmIChpc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX3RlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faXRlbS1kZXNjcmlwdGlvbi1saWtlLWJ1dHRvbicpLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRzX19pdGVtLWRlc2NyaXB0aW9uLWxpa2UtYnV0dG9uX19hY3RpdmUnKTtcclxuICAgIH1cclxuICB9XHJcbiAgX2RlbGV0ZUxpc3RlbmVyKCl7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl90ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2l0ZW0tZGVzY3JpcHRpb24tZGVsZXRlLWJ1dHRvbicpXHJcbiAgICBpZiAoISh0aGlzLl9vd25lcklkID09PSB0aGlzLl91c2VyKSl7XHJcbiAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdyZW1vdmVkJylcclxuICAgIH0gZWxzZXtcclxuICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSgpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG4gIGRlbGV0ZSgpe1xyXG4gICAgdGhpcy5fdGVtcGxhdGUucmVtb3ZlKClcclxuICB9XHJcbiAgX2FkZEV2ZW50TGlzdGVuZXJzKGltYWdlRWxlbWVudCl7XHJcbiAgICBpbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHt0aGlzLl9vcGVuUG9wdXAodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7fSk7XHJcbiAgfVxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9ye1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtKXtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHNldHRpbmdzLmlucHV0U2VsZWN0b3IpKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG4gIGVuYWJsZVZhbGlkYXRpb24gKCl7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IGV2dC5wcmV2ZW50RGVmYXVsdCgpKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIGNsZWFyRm9ybSgpe1xyXG4gICAgICB0aGlzLl9mb3JtLnJlc2V0KClcclxuICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudClcclxuICAgICAgfSlcclxuICB9XHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KVxyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKXtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRMaXN0KSkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJylcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpXHJcbiAgfVxyXG59XHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpe1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpXHJcbiAgfVxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KXtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSl7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBpbnB1dEVsZW1lbnQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLl9lcnJvckNsYXNzfWApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KXtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGlucHV0RWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuX2Vycm9yQ2xhc3N9YCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGl0ZW1zO1xyXG4gICAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuICBcclxuICAgIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxuICAgIGNsZWFyKCl7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9ICcnXHJcbiAgICB9XHJcbiAgICByZW5kZXJJdGVtcyhjYXJkcykge1xyXG4gICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgIGNhcmRzLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgc2V0SXRlbXMoY2FyZHMpe1xyXG4gICAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gY2FyZHM7XHJcbiAgICB9XHJcbiAgfSIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcblx0Y29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpXHJcblxyXG5cdH1cclxuICAgIG9wZW4oKXtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwib3BlbmVkXCIpXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKVxyXG4gICAgfVxyXG4gICAgY2xvc2UoKXtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwib3BlbmVkXCIpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9XHJcbiAgICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KXtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cdHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoKHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5jb250YWlucygnb3BlbmVkJykpICYmIChldnQudGFyZ2V0ID09PSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRhaW5lci1jbG9zZS1idXR0b24nKSkgfHwgKGV2dC50YXJnZXQgPT09IHRoaXMuX3BvcHVwKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG59IiwiaW1wb3J0IHtQb3B1cH0gZnJvbSAnLi9Qb3B1cC5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwe1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3RvcilcclxuICAgICAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBvcGVuKG5hbWUsIGxpbmspe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZGVzY3JpcHRpb24nKS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGlua1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWVcclxuICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICAgICAgfVxyXG59IiwiaW1wb3J0IHtQb3B1cH0gZnJvbSAnLi9Qb3B1cC5qcydcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBzdWJtaXRDYWxsYmFjayl7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3RvcilcclxuICAgICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9IHN1Ym1pdENhbGxiYWNrXHJcbiAgICAgICAgdGhpcy5fYnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jb250YWluZXItZm9ybS1zYXZlLWJ1dHRvbicpXHJcbiAgICAgICAgdGhpcy5fdGV4dENvbnRhaW5lciA9IHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudC8v0LjRgdC/0L7Qu9GM0LfRg9C10YLRgdGPINC00LvRjyDRhdGA0LDQvdC10L3QuNGPINC40LfQvdCw0YfQsNC70YzQvdC+0Lkg0L3QsNC00L/QuNGB0LgsINC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQv9C+0YHQu9C1INGB0L7RhdGA0LDQvdC10L3QuNGPXHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyLWZvcm0nKVxyXG4gICAgfVxyXG4gICAgX2dldElucHV0VmFsdWVzKCl7XHJcbiAgICAgICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9wb3B1cC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKSlcclxuICAgICAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dFZhbHVlc1tpbnB1dC5nZXRBdHRyaWJ1dGUoJ05hbWUnKV0gPSBpbnB1dC52YWx1ZTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gICAgfVxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyLWZvcm0tc2F2ZS1idXR0b24nKVxyXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJMb2FkaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBjbG9zZSgpe1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gICAgfVxyXG4gICAgX3JlbmRlckxvYWRpbmcoKXtcclxuICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xyXG4gICAgfVxyXG4gICAgcmVzZXRTdWJtaXRCdXR0b24oKXtcclxuICAgICAgICB0aGlzLl9idXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0Q29udGFpbmVyXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2NvbnRhaW5lci1mb3JtJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2NvbnRhaW5lci1mb3JtLWlucHV0JyxcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19jb250YWluZXItZm9ybS1zYXZlLWJ1dHRvbicsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2NvbnRhaW5lci1mb3JtLXNhdmUtYnV0dG9uX2Rpc2FibGVkJyxcclxuICAgIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19jb250YWluZXItZm9ybS1pbnB1dF9lcnJvcicsXHJcbiAgICBlcnJvckNsYXNzOiAnZXJyb3InXHJcbiAgfTtcclxuZXhwb3J0IGNvbnN0IGNhcmRzID0gW107XHJcbmV4cG9ydCBjb25zdCBwb3B1cFNlbGVjdG9ycyA9IHtcclxuICBpbWFnZVBvcHVwOiAnLmltYWdlLXBvcHVwJyxcclxuICBwcm9maWxlUG9wdXA6ICcucHJvZmlsZS1wb3B1cCcsXHJcbiAgYXZhdGFyUG9wdXA6ICcuYXZhdGFyJyxcclxuICBhZGRQbGFjZVBvcHVwOiAnLmFkZC1wbGFjZScsXHJcbiAgZGVsZXRlUG9wdXA6ICcuZGVsZXRlLXBvcHVwJ1xyXG59XHJcbmNvbnN0IHBsYWNlQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtcGxhY2VcIik7XHJcbmV4cG9ydCBjb25zdCBwbGFjZUFkZEZvcm0gPSBwbGFjZUFkZC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250YWluZXItZm9ybVwiKTtcclxuY29uc3QgcHJvZmlsZVBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlLXBvcHVwXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBGb3JtID0gcHJvZmlsZVBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NvbnRhaW5lci1mb3JtXCIpO1xyXG5jb25zdCBhdmF0YXJFZGl0UG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF2YXRhclwiKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhckZvcm0gPSBhdmF0YXJFZGl0UG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY29udGFpbmVyLWZvcm1cIik7XHJcbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZVNlbGVjdG9yID0gJyNjYXJkJ1xyXG5leHBvcnQgY29uc3QgY29udGFpbmVyU2VsZWN0b3IgPSAnLmVsZW1lbnRzJ1xyXG5leHBvcnQgY29uc3QgbmFtZVNlbGVjdG9yID0gJy5wcm9maWxlX19pbmZvLXVzZXJuYW1lJ1xyXG5leHBvcnQgY29uc3QgYWJvdXRTZWxlY3RvciA9ICcucHJvZmlsZV9faW5mby1wcm9mZXNzaW9uJ1xyXG5leHBvcnQgY29uc3QgZWRpdGVkVXNlcm5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRhaW5lci1mb3JtLWlucHV0X3RleHRfdXNlcm5hbWUnKVxyXG5leHBvcnQgY29uc3QgZWRpdGVkUHJvZmVzc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyLWZvcm0taW5wdXRfdGV4dF9wcm9mZXNzaW9uJylcclxuZXhwb3J0IGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2luZm8tZWRpdC1idXR0b25cIilcclxuZXhwb3J0IGNvbnN0IGF2YXRhckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWNvbnRhaW5lclwiKVxyXG5leHBvcnQgY29uc3QgYXZhdGFyU2VsZWN0b3IgPSAnLnByb2ZpbGVfX2F2YXRhcidcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVEYXRhID0ge1xyXG4gIGFib3V0OiBcIlwiLFxyXG4gIGF2YXRhcjogXCJcIixcclxuICBjb2hvcnQ6IFwiY29ob3J0LTI3XCIsXHJcbiAgbmFtZTogXCJcIixcclxuICBfaWQ6IFwiXCJcclxufTtcclxuIiwiaW1wb3J0IHsgcHJvZmlsZURhdGEgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzXCJcclxuXHJcbmV4cG9ydCAgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IobmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcikge1xyXG4gICAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKVxyXG4gICAgICB0aGlzLl9wcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFib3V0U2VsZWN0b3IpXHJcbiAgICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKVxyXG5cclxuICAgICAgdGhpcy5fZWRpdGVkUHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jb250YWluZXItZm9ybS1pbnB1dF90ZXh0X3VzZXJuYW1lXCIpXHJcbiAgICAgIHRoaXMuX2VkaXRlZFByb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NvbnRhaW5lci1mb3JtLWlucHV0X3RleHRfcHJvZmVzc2lvblwiKVxyXG5cclxuICAgIH1cclxuICBcclxuICAgIGdldFVzZXJJbmZvKHByb2ZpbGVEYXRhKSB7XHJcbiAgICAgIHByb2ZpbGVEYXRhLm5hbWUgPSB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudFxyXG4gICAgICBwcm9maWxlRGF0YS5hYm91dCA9IHRoaXMuX3Byb2ZpbGVUaXRsZS50ZXh0Q29udGVudFxyXG4gICAgICBwcm9maWxlRGF0YS5hdmF0YXIgPSB0aGlzLl9wcm9maWxlQXZhdGFyLnNyY1xyXG4gICAgICByZXR1cm4gcHJvZmlsZURhdGFcclxuICAgIH1cclxuICAgIGdldFVzZXJJZCgpe1xyXG4gICAgICByZXR1cm4gdGhpcy5faWRcclxuICAgIH1cclxuICBcclxuICAgIHNldFVzZXJJbmZvKHByb2ZpbGVEYXRhKSB7XHJcbiAgICAgIGlmIChwcm9maWxlRGF0YS5uYW1lICYmIHByb2ZpbGVEYXRhLmFib3V0KXtcclxuICAgICAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHByb2ZpbGVEYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gcHJvZmlsZURhdGEuYWJvdXQ7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDQv9GA0L7RhNC40LvRjycpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHNldFVzZXJBdmF0YXIocHJvZmlsZURhdGEpe1xyXG4gICAgICBpZiAocHJvZmlsZURhdGEuYXZhdGFyKXtcclxuICAgICAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IHByb2ZpbGVEYXRhLmF2YXRhcjtcclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INCw0LLQsNGC0LDRgNCwJylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0VXNlcklkKHByb2ZpbGVEYXRhLCBwcm9taXNlKXtcclxuICAgICAgaWYgKHByb2ZpbGVEYXRhKXtcclxuICAgICAgICB0aGlzLl9pZCA9IHByb21pc2UuX2lkXHJcbiAgICAgICAgcmV0dXJuIHByb2ZpbGVEYXRhLl9pZCA9IHRoaXMuX2lkXHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCBJRCBn0L7Qu9GM0LfQvtCy0LDRgtC10LvRjycpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IiwiZXhwb3J0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MpIHtcclxuICAgIHRoaXMuX3VybCA9IHNldHRpbmdzLnVybDtcclxuICAgIHRoaXMuX2F1dGhvcml6YXRpb24gPSBzZXR0aW5ncy5hdXRob3JpemF0aW9uO1xyXG4gICAgdGhpcy5fY29udGVudFRpcCA9IHNldHRpbmdzLmNvbnRlbnRUaXA7XHJcbiAgfVxyXG4gIF9nZXRSZXNwb25zZURhdGEocmVzKSB7XHJcbiAgICBpZiAoIXJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICB9XHJcblxyXG4gIGdldENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IHRoaXMuX2NvbnRlbnRUaXAsXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHRoaXMuY2FyZHNSZXMgPSByZXNcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBnZXRQcm9maWxlKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH11c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IHRoaXMuX2NvbnRlbnRUaXAsXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAgLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKVxyXG4gICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICB0aGlzLnByb2ZpbGVSZXMgPSByZXNcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBnZXRVc2VySWQocmVzKXtcclxuICAgIGlmIChyZXMpe1xyXG4gICAgICB0aGlzLmlkUmVzID0gcmVzLl9pZFxyXG4gICAgICByZXR1cm4gdGhpcy5pZFJlc1xyXG4gICAgfWVsc2V7XHJcbiAgICAgIHJldHVybiB0aGlzLmlkUmVzXHJcbiAgICB9XHJcbiAgfVxyXG4gIGVkaXRQcm9maWxlSW5mbyhwcm9maWxlRGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH11c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogdGhpcy5fY29udGVudFRpcFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogcHJvZmlsZURhdGEubmFtZSxcclxuICAgICAgICBhYm91dDogcHJvZmlsZURhdGEuYWJvdXRcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpO1xyXG4gIH1cclxuICBlZGl0UHJvZmlsZUF2YXRhcihwcm9maWxlRGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH11c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IHRoaXMuX2NvbnRlbnRUaXBcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogcHJvZmlsZURhdGEuYXZhdGFyXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKTtcclxuICB9XHJcbiAgYWRkQ2FyZChjYXJkSW5mbykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH1jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiB0aGlzLl9jb250ZW50VGlwXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBsaW5rOiBjYXJkSW5mby5saW5rLFxyXG4gICAgICAgIG5hbWU6IGNhcmRJbmZvLm5hbWVcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9nZXRSZXNwb25zZURhdGEpO1xyXG4gIH1cclxuICBkZWxldGVDYXJkKGNhcmQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9Y2FyZHMvJHtjYXJkLl9pZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiB0aGlzLl9jb250ZW50VGlwLFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fZ2V0UmVzcG9uc2VEYXRhKTtcclxuICB9XHJcbiAgc2V0TGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9Y2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogdGhpcy5fY29udGVudFRpcCxcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2dldFJlc3BvbnNlRGF0YSk7XHJcbiAgfVxyXG4gIGRlbGV0ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfWNhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IHRoaXMuX2NvbnRlbnRUaXAsXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAudGhlbigocmVzKSA9PiB0aGlzLl9nZXRSZXNwb25zZURhdGEocmVzKSk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IHtQb3B1cH0gZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRGVsZXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBmb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyLWZvcm0nKTtcclxuICAgIHRoaXMuYnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jb250YWluZXItZm9ybS1zYXZlLWJ1dHRvbicpO1xyXG4gICAgdGhpcy5fZm9ybVN1Ym1pdCA9IGZvcm1TdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBvcGVuKGNhcmQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuYnV0dG9uLnRleHRDb250ZW50ID0gJ9CU0LAnO1xyXG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGV2dCA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9yZW5kZXJMb2FkaW5nKCk7XHJcbiAgICAgIHRoaXMuX2Zvcm1TdWJtaXQodGhpcy5fY2FyZCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9yZW5kZXJMb2FkaW5nKCl7XHJcbiAgICB0aGlzLmJ1dHRvbi50ZXh0Q29udGVudCA9ICfQo9C00LDQu9C10L3QuNC1Li4uJztcclxuICB9XHJcbn0iLCJpbXBvcnQgJy4uL3BhZ2VzL2luZGV4LmNzcydcclxuXHJcbmltcG9ydCB7Q2FyZH0gZnJvbSAnLi4vanMvY29tcG9uZW50cy9jYXJkLmpzJztcclxuaW1wb3J0IHtGb3JtVmFsaWRhdG9yfSBmcm9tICcuLi9qcy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5cclxuaW1wb3J0IHtTZWN0aW9ufSBmcm9tICcuLi9qcy9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xyXG5pbXBvcnQge1BvcHVwV2l0aEltYWdlfSBmcm9tICcuLi9qcy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcclxuaW1wb3J0IHtQb3B1cFdpdGhGb3JtfSBmcm9tICcuLi9qcy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQge1VzZXJJbmZvfSBmcm9tICcuLi9qcy9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcclxuaW1wb3J0IHtBcGl9IGZyb20gJy4uL2pzL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IHsgUG9wdXBXaXRoRGVsZXRpb24gfSBmcm9tICcuLi9qcy9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0aW9uJztcclxuXHJcbmltcG9ydCB7IFxyXG4gIHNldHRpbmdzLFxyXG4gIGNhcmRzLFxyXG4gIHBvcHVwU2VsZWN0b3JzLFxyXG4gIHBsYWNlQWRkRm9ybSxcclxuICBwb3B1cEZvcm0sXHJcbiAgY29udGFpbmVyU2VsZWN0b3IsXHJcbiAgdGVtcGxhdGVTZWxlY3RvcixcclxuICBuYW1lU2VsZWN0b3IsXHJcbiAgYWJvdXRTZWxlY3RvcixcclxuICBlZGl0QnV0dG9uLFxyXG4gIGVkaXRlZFByb2Zlc3Npb24sXHJcbiAgZWRpdGVkVXNlcm5hbWUsXHJcbiAgYXZhdGFyQ29udGFpbmVyLFxyXG4gIGF2YXRhclNlbGVjdG9yLFxyXG4gIHByb2ZpbGVEYXRhLFxyXG4gIGF2YXRhckZvcm0sXHJcbiAgdXNlcklkXHJcbn0gZnJvbSAnLi4vanMvdXRpbHMvY29uc3RhbnRzLmpzJztcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU5ld0NhcmQoaXRlbSl7XHJcbiAgYWRkTmV3Q2FyZChjcmVhdGVDYXJkKGl0ZW0pKVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pe1xyXG4gIGNvbnN0IG5ld0NhcmRFbGVtZW50ID0gbmV3IENhcmQoXHJcbiAgICB7XHJcbiAgICAgIGNhcmQ6IGl0ZW0sXHJcbiAgICAgIGhhbmRsZUNhcmRDbGljazogKG5hbWUsIGxpbmspID0+IHtcclxuICAgICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xyXG4gICAgICB9LFxyXG4gICAgICB1c2VyRGF0YTogcHJvZmlsZURhdGEsXHJcbiAgICAgIGhhbmRsZUNhcmRMaWtlOiAoZXZ0KT0+e1xyXG4gICAgICAgIGlmICghZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2VsZW1lbnRzX19pdGVtLWRlc2NyaXB0aW9uLWxpa2UtYnV0dG9uX19hY3RpdmUnKSl7XHJcbiAgICAgICAgICByZXR1cm4gYXBpLnNldExpa2UoaXRlbS5faWQpXHJcbiAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKGVycikpXHJcbiAgICAgICAgICBcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgIHJldHVybiBhcGkuZGVsZXRlTGlrZShpdGVtLl9pZClcclxuICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIGhhbmRsZUNhcmREZWxldGU6ICgpID0+IHtcclxuICAgICAgICBwb3B1cERlbGV0ZS5vcGVuKGl0ZW0pO1xyXG4gICAgICAgIHBvcHVwRGVsZXRlLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtuZXdDYXJkRWxlbWVudC5kZWxldGUoKX0pXHJcbiAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgdGVtcGxhdGVTZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHJldHVybiBuZXdDYXJkRWxlbWVudFxyXG59XHJcbmZ1bmN0aW9uIGFkZE5ld0NhcmQobmV3Q2FyZEVsZW1lbnQpe1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3Q2FyZEVsZW1lbnQuY3JlYXRlQ2FyZCgpO1xyXG4gIGNhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xyXG59XHJcblxyXG5cclxuY29uc3QgcGxhY2VBZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIHBsYWNlQWRkRm9ybSlcclxucGxhY2VBZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKVxyXG5jb25zdCBwcm9maWxlUG9wdXBGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIHBvcHVwRm9ybSlcclxucHJvZmlsZVBvcHVwRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKClcclxuY29uc3QgYXZhdGFyUG9wdXBGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIGF2YXRhckZvcm0pXHJcbmF2YXRhclBvcHVwRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKClcclxuXHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICB1cmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTI3LycsXHJcbiAgYXV0aG9yaXphdGlvbjogJzNmZTBjMjc0LTllYjEtNGIxZS1hNWJiLTJiZWE3N2E5ZmUxNScsXHJcbiAgY29udGVudFRpcDogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG59KVxyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8obmFtZVNlbGVjdG9yLCBhYm91dFNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvcilcclxuXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gIGl0ZW1zOiBjYXJkcyxcclxuICByZW5kZXJlcjogKGl0ZW0pID0+e1xyXG4gICAgY3JlYXRlTmV3Q2FyZChpdGVtKVxyXG4gICAgfSxcclxuICB9LFxyXG4gIGNvbnRhaW5lclNlbGVjdG9yXHJcbik7XHJcblxyXG5jb25zdCBjYXJkc0dldHRpbmcgPSBhcGkuZ2V0Q2FyZHMoKVxyXG5jb25zdCBwcm9maWxlR2V0dGluZyA9IGFwaS5nZXRQcm9maWxlKClcclxuXHJcblByb21pc2UuYWxsKFtjYXJkc0dldHRpbmcsIHByb2ZpbGVHZXR0aW5nXSlcclxuLnRoZW4oKCkgPT4ge1xyXG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKGFwaS5wcm9maWxlUmVzKTtcclxuICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKGFwaS5wcm9maWxlUmVzKTtcclxuICB1c2VySW5mby5zZXRVc2VySWQocHJvZmlsZURhdGEsIGFwaS5wcm9maWxlUmVzKVxyXG4gIHVzZXJJbmZvLmdldFVzZXJJbmZvKHByb2ZpbGVEYXRhKVxyXG4gIGFwaS5jYXJkc1Jlcy5yZXZlcnNlKCkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgIGNyZWF0ZU5ld0NhcmQoaXRlbSlcclxuICB9KTtcclxufSlcclxuLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuXHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cFNlbGVjdG9ycy5pbWFnZVBvcHVwKVxyXG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpXHJcblxyXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBTZWxlY3RvcnMucHJvZmlsZVBvcHVwLFxyXG4gIChkYXRhKSA9PntcclxuICAgIGFwaS5lZGl0UHJvZmlsZUluZm8oZGF0YSlcclxuICAgICAgLnRoZW4oKCk9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSlcclxuICAgICAgICBwb3B1cEVkaXRQcm9maWxlLnJlc2V0U3VibWl0QnV0dG9uKClcclxuICAgICAgICBwb3B1cEVkaXRQcm9maWxlLmNsb3NlKClcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKGVycikpXHJcbiAgfSlcclxucG9wdXBFZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpXHJcblxyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cFNlbGVjdG9ycy5hdmF0YXJQb3B1cCxcclxuICAoZGF0YSkgPT57XHJcbiAgICBhcGkuZWRpdFByb2ZpbGVBdmF0YXIoZGF0YSlcclxuICAgICAgLnRoZW4oKCk9PiB7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcihkYXRhKVxyXG4gICAgICAgIHBvcHVwRWRpdEF2YXRhci5jbG9zZSgpXHJcbiAgICAgICAgYXZhdGFyUG9wdXBGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKClcclxuICAgICAgICBwb3B1cEVkaXRBdmF0YXIucmVzZXRTdWJtaXRCdXR0b24oKVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcclxuICB9XHJcbilcclxucG9wdXBFZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKClcclxuXHJcbmNvbnN0IHBvcHVwSW1hZ2VBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cFNlbGVjdG9ycy5hZGRQbGFjZVBvcHVwLFxyXG4gIChkYXRhKSA9PiB7XHJcbiAgICBkYXRhLmxpa2VzID0gW11cclxuICAgIGRhdGEubGlrZXMubGVuZ3RoID0gMDtcclxuICAgIGRhdGEubGlrZXMuX2lkID0gdXNlckluZm8uZ2V0VXNlcklkKCk7XHJcbiAgICBkYXRhLm93bmVyID0ge1xyXG4gICAgICBuYW1lOiBcIlwiLFxyXG4gICAgICBfaWQ6IFwiXCJcclxuICAgIH1cclxuICAgIGRhdGEub3duZXIubmFtZSA9IHByb2ZpbGVEYXRhLm5hbWVcclxuICAgIGRhdGEub3duZXIuX2lkID0gdXNlckluZm8uZ2V0VXNlcklkKClcclxuICAgIGFwaS5hZGRDYXJkKGRhdGEpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBkYXRhLl9pZCA9IHJlcy5faWRcclxuICAgICAgICBjcmVhdGVOZXdDYXJkKGRhdGEpXHJcbiAgICAgICAgcG9wdXBJbWFnZUFkZC5yZXNldFN1Ym1pdEJ1dHRvbigpXHJcbiAgICAgICAgcG9wdXBJbWFnZUFkZC5jbG9zZSgpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihlcnIpKSAgICBcclxuICB9XHJcbilcclxucG9wdXBJbWFnZUFkZC5zZXRFdmVudExpc3RlbmVycygpXHJcblxyXG5jb25zdCBwb3B1cERlbGV0ZSA9IG5ldyBQb3B1cFdpdGhEZWxldGlvbih7XHJcbiAgcG9wdXBTZWxlY3RvcjogcG9wdXBTZWxlY3RvcnMuZGVsZXRlUG9wdXAsXHJcbiAgZm9ybVN1Ym1pdDogKGNhcmQpID0+e1xyXG4gICAgYXBpLmRlbGV0ZUNhcmQoY2FyZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwRGVsZXRlLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcclxuICB9XHJcbn0pXHJcbnBvcHVwRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKClcclxuXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwcm9maWxlUG9wdXBGb3JtVmFsaWRhdG9yLmNsZWFyRm9ybSgpXHJcbiAgY29uc3QgZGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKHByb2ZpbGVEYXRhKTtcclxuICBlZGl0ZWRVc2VybmFtZS52YWx1ZSA9IGRhdGEubmFtZTtcclxuICBlZGl0ZWRQcm9mZXNzaW9uLnZhbHVlID0gZGF0YS5hYm91dDtcclxuICBwcm9maWxlUG9wdXBGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgcG9wdXBFZGl0UHJvZmlsZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKVxyXG4gIGFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgcGxhY2VBZGRGb3JtVmFsaWRhdG9yLmNsZWFyRm9ybSgpXHJcbiAgICBwbGFjZUFkZEZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKVxyXG4gIHBvcHVwSW1hZ2VBZGQub3BlbigpO1xyXG59KTtcclxuXHJcbmF2YXRhckNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT57XHJcbiAgYXZhdGFyUG9wdXBGb3JtVmFsaWRhdG9yLmNsZWFyRm9ybSgpXHJcbiAgYXZhdGFyUG9wdXBGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKClcclxuICBwb3B1cEVkaXRBdmF0YXIub3BlbigpXHJcbn0pIl0sIm5hbWVzIjpbIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJjYXJkIiwiaGFuZGxlQ2FyZENsaWNrIiwidXNlckRhdGEiLCJoYW5kbGVDYXJkTGlrZSIsImhhbmRsZUNhcmREZWxldGUiLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2VzIiwibGlrZXMiLCJfY291bnRlckxpa2VzIiwibGVuZ3RoIiwiX2NhcmRJZCIsIl9pZCIsIl9vd25lck5hbWUiLCJvd25lciIsIl9vd25lcklkIiwiX3VzZXIiLCJfY2FyZCIsIl9vcGVuUG9wdXAiLCJfaGFuZGxlQ2FyZExpa2UiLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9jYXJkU2VsZWN0b3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3RlbXBsYXRlIiwiX2dldFRlbXBsYXRlIiwiaW1hZ2VFbGVtZW50IiwidGV4dENvbnRlbnQiLCJhbHQiLCJzcmMiLCJfYWRkRXZlbnRMaXN0ZW5lcnMiLCJfbGlrZUxpc3RlbmVyIiwiX2RlbGV0ZUxpc3RlbmVyIiwiX3NldExpa2VkU3RhdHVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInRoZW4iLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfc2V0TGlrZXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIl9saWtlc0NvdW50ZXIiLCJzb21lIiwiYWRkIiwiX2RlbGV0ZUJ1dHRvbiIsInJlbW92ZSIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm0iLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsInJlc2V0IiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsIl9oaWRlSW5wdXRFcnJvciIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJwYXJlbnROb2RlIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwiaW5uZXJIVE1MIiwiY2FyZHMiLCJjbGVhciIsIml0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsImNsb3NlIiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXRDYWxsYmFjayIsIl9zdWJtaXRDYWxsYmFjayIsIl9idXR0b24iLCJfdGV4dENvbnRhaW5lciIsImlucHV0TGlzdCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsImdldEF0dHJpYnV0ZSIsInZhbHVlIiwiX3JlbmRlckxvYWRpbmciLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtU2VsZWN0b3IiLCJwbGFjZUFkZEZvcm0iLCJwb3B1cEZvcm0iLCJhdmF0YXJGb3JtIiwiZWRpdGVkVXNlcm5hbWUiLCJlZGl0ZWRQcm9mZXNzaW9uIiwiZWRpdEJ1dHRvbiIsImF2YXRhckNvbnRhaW5lciIsInByb2ZpbGVEYXRhIiwiYWJvdXQiLCJhdmF0YXIiLCJjb2hvcnQiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImFib3V0U2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlVGl0bGUiLCJfcHJvZmlsZUF2YXRhciIsIl9lZGl0ZWRQcm9maWxlTmFtZSIsIl9lZGl0ZWRQcm9maWxlVGl0bGUiLCJsb2ciLCJwcm9taXNlIiwiQXBpIiwiX3VybCIsInVybCIsIl9hdXRob3JpemF0aW9uIiwiYXV0aG9yaXphdGlvbiIsIl9jb250ZW50VGlwIiwiY29udGVudFRpcCIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJfZ2V0UmVzcG9uc2VEYXRhIiwiY2FyZHNSZXMiLCJwcm9maWxlUmVzIiwiaWRSZXMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmRJbmZvIiwiY2FyZElkIiwiUG9wdXBXaXRoRGVsZXRpb24iLCJmb3JtU3VibWl0IiwiYnV0dG9uIiwiX2Zvcm1TdWJtaXQiLCJjcmVhdGVOZXdDYXJkIiwiY2FyZEVsZW1lbnQiLCJuZXdDYXJkRWxlbWVudCIsInBvcHVwV2l0aEltYWdlIiwib3BlbiIsImFwaSIsImRlbGV0ZUxpa2UiLCJzZXRMaWtlIiwicG9wdXBEZWxldGUiLCJkZWxldGUiLCJjcmVhdGVDYXJkIiwiY2FyZExpc3QiLCJhZGRJdGVtIiwicGxhY2VBZGRGb3JtVmFsaWRhdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByb2ZpbGVQb3B1cEZvcm1WYWxpZGF0b3IiLCJhdmF0YXJQb3B1cEZvcm1WYWxpZGF0b3IiLCJ1c2VySW5mbyIsImNhcmRzR2V0dGluZyIsImdldENhcmRzIiwicHJvZmlsZUdldHRpbmciLCJnZXRQcm9maWxlIiwiYWxsIiwic2V0VXNlckluZm8iLCJzZXRVc2VyQXZhdGFyIiwic2V0VXNlcklkIiwiZ2V0VXNlckluZm8iLCJyZXZlcnNlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cEVkaXRQcm9maWxlIiwiZGF0YSIsImVkaXRQcm9maWxlSW5mbyIsInJlc2V0U3VibWl0QnV0dG9uIiwicG9wdXBFZGl0QXZhdGFyIiwiZWRpdFByb2ZpbGVBdmF0YXIiLCJwb3B1cEltYWdlQWRkIiwiZ2V0VXNlcklkIiwiYWRkQ2FyZCIsImRlbGV0ZUNhcmQiLCJjbGVhckZvcm0iXSwic291cmNlUm9vdCI6IiJ9